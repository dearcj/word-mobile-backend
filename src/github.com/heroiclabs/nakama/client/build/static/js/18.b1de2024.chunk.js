webpackJsonp([18],{275:function(e,t,a){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),o=a.n(r),i=a(102),c=(a.n(i),a(29)),u=a(5),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),h=(Object(i.getStyle)("--primary"),Object(i.getStyle)("--info"),function(e){function t(e){s(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.toggle=a.toggle.bind(a),a.onRadioBtnClick=a.onRadioBtnClick.bind(a),c.a.session||c.a.RedirectLogin(),a.state={boosts:{list:[]},showSaveErr:!1,showSaveNot:!1,user:{}},a.update(c.a.editingUserId),a}return l(t,e),m(t,[{key:"deleteStorage",value:function(e,t){}},{key:"addStorage",value:function(){}},{key:"update",value:function(){var e=this;c.a.getUserWithStorage(c.a.editingUserId,function(t){e.setState({user:t}),e.getBoosts(t)})}}]),m(t,[{key:"save",value:function(){var e=this;this.findBoosts(this.state.user).Value=this.encodeBoosts(this.state.boosts),c.a.updateUser(this.state.user,function(t){e.setState({showSaveNot:!0}),setTimeout(function(){e.setState({showSaveNot:!1})},2e3)},function(){e.setState({showSaveErr:!0}),setTimeout(function(){e.setState({showSaveErr:!1})},2e3)})}},{key:"onCopy",value:function(e){var t=document.createElement("textarea");t.innerText=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()}},{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"onRadioBtnClick",value:function(e){this.setState({radioSelected:e})}},{key:"changeFacebookId",value:function(e){this.state.user.Facebook_Id=e.target.value,this.setState({user:this.state.user})}},{key:"changeEmail",value:function(e){this.state.user.Email=e.target.value,this.setState({user:this.state.user})}},{key:"changeUsername",value:function(e){this.state.user.Username=e.target.value,this.setState({user:this.state.user})}},{key:"getValue",value:function(e){return e}},{key:"setValue",value:function(e,t){this.state.user.StorageData[e].Value=t.target.value,this.setState({user:this.state.user})}},{key:"findBoosts",value:function(e){for(var t,a=0;a<e.StorageData.length;a++)if("boosts"===e.StorageData[a].Key){t=e.StorageData[a];break}return t}},{key:"getBoosts",value:function(e){var t=this.findBoosts(e);t?this.state.boosts=this.decodeBoosts(t.Value):(this.state.boosts={list:[{type:"Time",amount:0},{type:"Skip",amount:0},{type:"Hint",amount:0},{type:"Redo",amount:0}]},e.StorageData.push({Collection:"resources",Key:"boosts",Read:1,Write:1,Value:this.encodeBoosts(this.state.boosts)})),this.setState(this.state)}},{key:"changeAmount",value:function(e,t){this.state.boosts.list[e].amount=t.target.value.toString(),this.setState({boosts:this.state.boosts})}},{key:"decodeBoosts",value:function(e){var t=decodeURIComponent(e);return JSON.parse(t)}},{key:"encodeBoosts",value:function(e){var t=JSON.stringify(e);return encodeURIComponent(t)}},{key:"render",value:function(){for(var e={border:"0px"},t=[],a=0;a<this.state.boosts.list.length;a++){var s=this.state.boosts.list[a];t.push(o.a.createElement("tr",null,o.a.createElement("td",{className:"pt-3-half"},o.a.createElement("div",null,s.type)),o.a.createElement("td",{className:"pt-3-half"},o.a.createElement("input",{pattern:"[0-9]*",onChange:this.changeAmount.bind(this,a),value:s.amount,className:"form-control",type:"number"}))))}for(var n=this.state.showSaveErr?o.a.createElement("div",{className:"successfully-saved alert alert-danger",role:"alert"},"Could not save user, email and username must be unique"):[],l=this.state.showSaveNot?o.a.createElement("div",{className:"successfully-saved alert alert-info",role:"alert"},o.a.createElement("strong",null,"User saved")):[],r=[],i=this.state.user.StorageData?this.state.user.StorageData.length:0,c=0;c<i;c++){var m=this.state.user.StorageData[c];"boosts"!==m.Key&&r.push(o.a.createElement("tr",{key:c},o.a.createElement("td",{className:"pt-3-half"},o.a.createElement("div",null,m.Collection)),o.a.createElement("td",{className:"pt-3-half"},o.a.createElement("div",null,m.Key)),o.a.createElement("td",{className:"pt-3-half"},o.a.createElement("input",{onChange:this.setValue.bind(this,c),value:this.getValue(m.Value),className:"form-control",id:"inputdefault",type:"text"})),o.a.createElement("td",{className:"pt-3-half"},o.a.createElement("div",null,"1"==m.Read?"Yes":"No")),o.a.createElement("td",{className:"pt-3-half"},o.a.createElement("div",null,"1"==m.Write?"Yes":"No"))))}return o.a.createElement("div",null,o.a.createElement("div",{className:"animated fadeIn"},o.a.createElement(u._6,null,o.a.createElement(u.t,null,o.a.createElement(u.i,null,o.a.createElement(u.n,null,"Edit user"),o.a.createElement(u.j,null,o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Email:"),o.a.createElement("input",{onChange:this.changeEmail.bind(this),value:this.state.user.Email?this.state.user.Email:"",className:"form-control"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Username:"),o.a.createElement("input",{onChange:this.changeUsername.bind(this),value:this.state.user.Username?this.state.user.Username:"",className:"form-control",type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Facebook Id:"),o.a.createElement("input",{onChange:this.changeFacebookId.bind(this),value:this.state.user.Facebook_Id?this.state.user.Facebook_Id:"",className:"form-control",type:"text"}))),o.a.createElement("br",null),o.a.createElement("label",null,"User boosts:"),o.a.createElement(u._9,{hover:!0,responsive:!0,className:"table-outline mb-0 d-none d-sm-table"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{style:e},o.a.createElement("th",{className:"text-center"},"Type"),o.a.createElement("th",{className:"text-center"},"Amount"))),o.a.createElement("tbody",null,t)),o.a.createElement("br",null),o.a.createElement("label",null,"User storage:"),o.a.createElement(u._9,{hover:!0,responsive:!0,className:"table-outline mb-0 d-none d-sm-table"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{style:e},o.a.createElement("th",{className:"text-center"},"Collection"),o.a.createElement("th",{className:"text-center"},"Key"),o.a.createElement("th",{className:"text-center"},"Value"),o.a.createElement("th",{className:"text-center"},"Can Read"),o.a.createElement("th",{className:"text-center"},"Can Write"))),o.a.createElement("tbody",null,r)))),o.a.createElement(u.i,null,o.a.createElement(u.j,null,l,n,o.a.createElement("input",{className:"btn btn-primary",onClick:this.save.bind(this),style:e,type:"button",value:"Save"})))))))}}]),t}(r.Component));t.default=h}});
//# sourceMappingURL=18.b1de2024.chunk.js.map